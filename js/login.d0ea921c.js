(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0f3f":function(e,n,t){},4868:function(e,n,t){"use strict";t.d(n,"l",(function(){return x})),t.d(n,"g",(function(){return R})),t.d(n,"r",(function(){return D})),t.d(n,"a",(function(){return U})),t.d(n,"q",(function(){return I})),t.d(n,"c",(function(){return S})),t.d(n,"e",(function(){return E})),t.d(n,"h",(function(){return C})),t.d(n,"m",(function(){return k})),t.d(n,"o",(function(){return J})),t.d(n,"n",(function(){return L})),t.d(n,"k",(function(){return N})),t.d(n,"b",(function(){return F})),t.d(n,"i",(function(){return z})),t.d(n,"j",(function(){return B})),t.d(n,"f",(function(){return M})),t.d(n,"d",(function(){return q})),t.d(n,"p",(function(){return Y}));t("fb6a"),t("dca8");function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var o,a,i,s,u,c,d,m,g,f,l,p,b,w,h,A,v,j,O=t("5184"),x=Object(O["a"])(o||(o=r(["query Register($username: String!, $password: String!) {\n    register(username: $username, password: $password) {\n        id,\n        username\n    }\n}"]))),R=Object(O["a"])(a||(a=r(["query Login($username: String!, $password: String!) {\n    login(username: $username, password: $password)      \n}"]))),D=Object(O["a"])(i||(i=r(["query Exist($username: String!){\n    usernameExists(username: $username)      \n}"]))),U=Object(O["a"])(s||(s=r(["mutation Create($name: String!){\n    createRoom(name: $name){\n        name\n        owner{\n            id\n        }\n    }      \n}"]))),I=Object(O["a"])(u||(u=r(["mutation Update($id: ID!, $name: String!){\n    updateRoom(id: $id, name: $name){\n        name\n    }      \n}"]))),S=Object(O["a"])(c||(c=r(["mutation Delete($id: ID!){\n    deleteRoom(id: $id){\n        id\n        name\n    }      \n}"]))),E=Object(O["a"])(d||(d=r(["query Rooms{\n    rooms {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),C=Object(O["a"])(m||(m=r(["query Me{\n    me{\n        id\n    }\n}"]))),k=Object(O["a"])(g||(g=r(["subscription RoomCreated{\n    roomCreated {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),J=Object(O["a"])(f||(f=r(["subscription RoomUpdated{\n    roomUpdated {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),L=Object(O["a"])(l||(l=r(["subscription RoomDeleted{\n    roomDeleted {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),N=Object(O["a"])(p||(p=r(["subscription MessageCreated{\n    messageCreated {\n        id\n        text\n        timestamp\n        room{\n            id\n        }\n        author{\n            id\n            username\n        }\n    }   \n}"]))),F=Object(O["a"])(b||(b=r(["subscription CurrentRoomChanhed{\n    currentRoomChanged {\n        id\n        username\n    }   \n}"]))),z=Object(O["a"])(w||(w=r(["subscription MemberJoined{\n    memberJoined {\n        id\n        username\n    }   \n}"]))),B=Object(O["a"])(h||(h=r(["subscription MemberLeft{\n    memberLeft {\n        id\n    }   \n}"]))),M=Object(O["a"])(A||(A=r(["mutation Join($id: ID!){\n    joinRoom(roomId: $id) {\n        id\n        name\n        owner{\n            id\n        }\n        members{\n            username\n            id\n        }\n        lastMessages{\n            text\n            timestamp\n            author{\n              username\n              id\n            }\n        }\n        \n    }   \n}"]))),q=Object(O["a"])(v||(v=r(["mutation Exit{\n    leaveCurrentRoom{\n      name\n    }\n  }"]))),Y=Object(O["a"])(j||(j=r(["mutation Send($message: String!){\n    createMessage(text: $message){\n        id\n        text\n    }\n}"])))},"6f8d":function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFhElEQVRogc2YQYgcRRSGv79pliUsISwSliC4hCUwi/GgokE8mJsHERUU6UWiqCAISkAJ0pEgZA6eNCpREG9mEkE9iITcIgmKKChI2JEQQpAQRCQsyx6WZenfQ/f0ds/O7Ez3zBD/00919eN/Va/ee1WiD860m4FgN2Ye8aDxA0LzmFlEYnsFdFXid+CK4ZpgJWrE/UxOBOo12Go3A+wnkJ4GHgPmbSP1mG4S5Fug84ZvBJeiRrw+UdUFbFPUajdngDfAr9vMSQo6Svv420GCfRPpS+BE1Ig3J6B3G0qKziyf3C/pfeApIOz1gwGy3ejHgRbwts2tpcXJhlTQIa12cwo4YTsV727VKVQIpX4c8wxwTGJ2ouopr/Jzkp7Px4p7k/IN4C/EDVIH91ksCAJjUDot49NCL9r+Ffhykg6k+91u3gecBRaLoW6M0F82pxBfC25GjTjp/JyF3BEgwizkTuc2/DfmYLR4/N+JOdBabk5ZfkvoXWB665OxuSIpjhrxd/0MtNonQ6NHBV8A+3tMeTNqxB+NXXmGAJgTOkxJPID+Fnrf5sJOBqLG8U3BD7bfs73WY8rTreWTEzsLAWIBOJSPbB3YC4hzS4vxxiAjUSNG0veSvgWSrgRwAHSo37+jIrD9IPZMrnwrjr+qmMtvgy8Cq8UEYDGLONBabo5JchmBpINIdJWEdcRPVQylLYSuGP9THFcamvewLUTHgwCYL43YAMtRI16taszmOmalVDhS7LXYVVPjjgiAmUw0tkl3wzfrGJNYRVoDpfWgYxNm5MntwDSdapo3a+qVTQYiasSbgjUAUbBpdqHercmoCLDLhtMVG5h5+iFNpV0hJEK81baMEyFSSBY6hZY5GfRjP0i6iJ3k1TxdkLZUb1cHIQSC7SHk2g7YtLJ6kNpMm6RNstAaN0LskOJFJT/I/ZF1rvM2C8CsYMoQZn8FQJBHkbZMttrNkvnB3IASYNOwjn1b0g3gaqdGhUhBjxDaSfweIAKOCO63HHaObNb8pSKU8qLN6rywljZCG8BV4NNWu3kuasS3Q5t3Jc3gPGMAvrKDD68ZjgnvQcoFp4u9nRfuCOPgU5h7EU1gttVufrjzcnehtdx8CPwjUphb3t5Dd/EBn+vzNeCFoVNbq90MEa8ihS4E+CCeZaHsLIyVzwDPDp+bzS7wYmpj57Ap8jGHUDe/b/jqKAKcvlCUDusgnhf3kq0xce+uUB0Nyu6+ab80HJ8oFFboT7rPe9XlmgDsoHqD5UJ4DMPLWDPcwKwCMxLzwO7aDqhahxh0UpgK5XUg38p/q0YnBOcRtwxzwJPAUeDuWg7YVRxwYpXzDEPyrLp+InM62rpjXzuz3DyttE86VVF6Zl41WlwXcvIwHJD0p+2zUdcDwdJivA58BqzU0Q9UcUCBOiFUOQt5RVLPF+uoEW/Y3K6l3pUuGU5cOpNVspDmSCvnNrTazWmJu4bXUTRfIYRsQmUHuWoIkT4cvNxqnyxd7LOn/HcYIRMN7UD+hF63kJlXQFFBfAg8Y/xaXfGVQsh2Us7qFQuZmMYcLtgLsR8Q2jushm2Qkio7kM6tF0Kd4TxtSwqMRrvoVzvE2dzReqHcAduoUhbshap1oKSnRi+k8g6AR34rGtqA7SRdVNXuhQT7ziw390u+AexDWhhJvUiGdkBS0lFRrxcC4F7hD0CXgYdtPzLoEWEn2B7eAdLHrsJ7Ua12ehrpCczjiKlRxKfWq52BDePNUbJQhgAxVVNzGRWzwLqslf/Tjcx4dWgHokacIC5vjdz5G5nQhap5+DTwx4ghNDpMAvwMfF7JgagRr2GOSvoFSO5YCInfgBOY65ULieES5iXEknAEmjagzvtqN4c8tTIaT4xXQD/I/hh0LVqMN/8DJ2rk6EKFemIAAAAASUVORK5CYII="},a55b:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login"},[t("h1",[e._v("Login")]),t("ul",{attrs:{id:"form"}},[t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"Username"},domProps:{value:e.username},on:{input:function(n){n.target.composing||(e.username=n.target.value)}}})]),t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"Password",type:"password"},domProps:{value:e.password},on:{input:function(n){n.target.composing||(e.password=n.target.value)}}})]),t("li",[e.isLogged?e._e():t("button",{on:{click:e.logIn}},[e._v("Login")])]),t("li",[e.isLogged?t("button",{on:{click:e.logout}},[e._v("Logout")]):e._e()])]),e.isLogged?t("LogImage"):e._e(),t("ModalRegister",{attrs:{msg:e.message}})],1)},o=[],a=t("1da1"),i=(t("96cf"),t("c9d1")),s=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("img",{attrs:{src:t("6f8d")}})},u=[],c={name:"LogImage"},d=c,m=t("2877"),g=Object(m["a"])(d,s,u,!1,null,"15194906",null),f=g.exports,l=t("4868"),p={name:"Login",components:{ModalRegister:i["a"],LogImage:f},props:["is-logged"],data:function(){return{username:"",password:"",message:"",componentName:"LogImage"}},apollo:{},methods:{clearFields:function(){this.username="",this.password=""},auth:function(e){this.$store.dispatch("setToken",e),localStorage.setItem("token",e),console.log(this.$store.getters.TOKEN)},logout:function(){this.$store.dispatch("setToken",""),localStorage.removeItem("token"),this.$emit("logout"),console.log(this.$store.getters.TOKEN)},logIn:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""===e.password||""===e.username){n.next=18;break}return n.prev=1,n.next=4,e.$apollo.query({query:l["g"],variables:{username:e.username,password:e.password}});case 4:t=n.sent,r=String(t.data.login),e.auth(r),e.$emit("login"),e.clearFields(),n.next=16;break;case 11:n.prev=11,n.t0=n["catch"](1),e.message="Wrong credentials. Try again."+n.t0,e.$modal.show("notif"),e.clearFields();case 16:n.next=21;break;case 18:e.message="All fields are required",e.$modal.show("notif"),e.clearFields();case 21:case"end":return n.stop()}}),n,null,[[1,11]])})))()}}},b=p,w=(t("d6db"),Object(m["a"])(b,r,o,!1,null,null,null));n["default"]=w.exports},bb2f:function(e,n,t){var r=t("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c9d1:function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("modal",{attrs:{id:"modal",name:"notif"}},[t("p",[e._v(e._s(e.msg))])])},o=[],a={name:"ModalRegister",props:["msg"]},i=a,s=(t("d2d3"),t("2877")),u=Object(s["a"])(i,r,o,!1,null,"949227f2",null);n["a"]=u.exports},d2d3:function(e,n,t){"use strict";t("0f3f")},d6db:function(e,n,t){"use strict";t("e67a")},dca8:function(e,n,t){var r=t("23e7"),o=t("bb2f"),a=t("d039"),i=t("861d"),s=t("f183").onFreeze,u=Object.freeze,c=a((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!o},{freeze:function(e){return u&&i(e)?u(s(e)):e}})},e67a:function(e,n,t){},f183:function(e,n,t){var r=t("d012"),o=t("861d"),a=t("5135"),i=t("9bf2").f,s=t("90e3"),u=t("bb2f"),c=s("meta"),d=0,m=Object.isExtensible||function(){return!0},g=function(e){i(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})},f=function(e,n){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!m(e))return"F";if(!n)return"E";g(e)}return e[c].objectID},l=function(e,n){if(!a(e,c)){if(!m(e))return!0;if(!n)return!1;g(e)}return e[c].weakData},p=function(e){return u&&b.REQUIRED&&m(e)&&!a(e,c)&&g(e),e},b=e.exports={REQUIRED:!1,fastKey:f,getWeakData:l,onFreeze:p};r[c]=!0},fb6a:function(e,n,t){"use strict";var r=t("23e7"),o=t("861d"),a=t("e8b5"),i=t("23cb"),s=t("50c4"),u=t("fc6a"),c=t("8418"),d=t("b622"),m=t("1dde"),g=m("slice"),f=d("species"),l=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(e,n){var t,r,d,m=u(this),g=s(m.length),b=i(e,g),w=i(void 0===n?g:n,g);if(a(m)&&(t=m.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?o(t)&&(t=t[f],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return l.call(m,b,w);for(r=new(void 0===t?Array:t)(p(w-b,0)),d=0;b<w;b++,d++)b in m&&c(r,d,m[b]);return r.length=d,r}})}}]);
//# sourceMappingURL=login.d0ea921c.js.map