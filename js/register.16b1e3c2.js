(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"0f3f":function(e,n,r){},"2cfd":function(e,n,r){"use strict";r("e314")},4868:function(e,n,r){"use strict";r.d(n,"l",(function(){return $})),r.d(n,"g",(function(){return y})),r.d(n,"r",(function(){return R})),r.d(n,"a",(function(){return E})),r.d(n,"q",(function(){return D})),r.d(n,"c",(function(){return k})),r.d(n,"e",(function(){return q})),r.d(n,"h",(function(){return C})),r.d(n,"m",(function(){return M})),r.d(n,"o",(function(){return S})),r.d(n,"n",(function(){return U})),r.d(n,"k",(function(){return I})),r.d(n,"b",(function(){return F})),r.d(n,"i",(function(){return _})),r.d(n,"j",(function(){return A})),r.d(n,"f",(function(){return z})),r.d(n,"d",(function(){return P})),r.d(n,"p",(function(){return J}));r("fb6a"),r("dca8");function t(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var a,s,o,i,u,d,c,m,f,l,p,b,g,w,v,h,j,x,O=r("5184"),$=Object(O["a"])(a||(a=t(["query Register($username: String!, $password: String!) {\n    register(username: $username, password: $password) {\n        id,\n        username\n    }\n}"]))),y=Object(O["a"])(s||(s=t(["query Login($username: String!, $password: String!) {\n    login(username: $username, password: $password)      \n}"]))),R=Object(O["a"])(o||(o=t(["query Exist($username: String!){\n    usernameExists(username: $username)      \n}"]))),E=Object(O["a"])(i||(i=t(["mutation Create($name: String!){\n    createRoom(name: $name){\n        name\n        owner{\n            id\n        }\n    }      \n}"]))),D=Object(O["a"])(u||(u=t(["mutation Update($id: ID!, $name: String!){\n    updateRoom(id: $id, name: $name){\n        name\n    }      \n}"]))),k=Object(O["a"])(d||(d=t(["mutation Delete($id: ID!){\n    deleteRoom(id: $id){\n        id\n        name\n    }      \n}"]))),q=Object(O["a"])(c||(c=t(["query Rooms{\n    rooms {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),C=Object(O["a"])(m||(m=t(["query Me{\n    me{\n        id\n    }\n}"]))),M=Object(O["a"])(f||(f=t(["subscription RoomCreated{\n    roomCreated {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),S=Object(O["a"])(l||(l=t(["subscription RoomUpdated{\n    roomUpdated {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),U=Object(O["a"])(p||(p=t(["subscription RoomDeleted{\n    roomDeleted {\n        id\n        name\n        owner{\n            id\n        }\n    }   \n}"]))),I=Object(O["a"])(b||(b=t(["subscription MessageCreated{\n    messageCreated {\n        id\n        text\n        timestamp\n        room{\n            id\n        }\n        author{\n            id\n            username\n        }\n    }   \n}"]))),F=Object(O["a"])(g||(g=t(["subscription CurrentRoomChanhed{\n    currentRoomChanged {\n        id\n        username\n    }   \n}"]))),_=Object(O["a"])(w||(w=t(["subscription MemberJoined{\n    memberJoined {\n        id\n        username\n    }   \n}"]))),A=Object(O["a"])(v||(v=t(["subscription MemberLeft{\n    memberLeft {\n        id\n    }   \n}"]))),z=Object(O["a"])(h||(h=t(["mutation Join($id: ID!){\n    joinRoom(roomId: $id) {\n        id\n        name\n        owner{\n            id\n        }\n        members{\n            username\n            id\n        }\n        lastMessages{\n            text\n            timestamp\n            author{\n              username\n              id\n            }\n        }\n        \n    }   \n}"]))),P=Object(O["a"])(j||(j=t(["mutation Exit{\n    leaveCurrentRoom{\n      name\n    }\n  }"]))),J=Object(O["a"])(x||(x=t(["mutation Send($message: String!){\n    createMessage(text: $message){\n        id\n        text\n    }\n}"])))},"73cf":function(e,n,r){"use strict";r.r(n);var t=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"auth"},[r("h1",[e._v("Register")]),r("ul",{attrs:{id:"form"}},[r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"Username"},domProps:{value:e.username},on:{input:function(n){n.target.composing||(e.username=n.target.value)}}})]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],attrs:{placeholder:"Password"},domProps:{value:e.password1},on:{input:function(n){n.target.composing||(e.password1=n.target.value)}}})]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],attrs:{placeholder:"Repeat password"},domProps:{value:e.password2},on:{input:function(n){n.target.composing||(e.password2=n.target.value)}}})]),r("li",[r("button",{on:{click:e.regUser}},[e._v("Register")])])]),r("ModalRegister",{attrs:{msg:e.message}})],1)},a=[],s=r("1da1"),o=(r("96cf"),r("99af"),r("c9d1")),i=r("4868"),u={name:"Auth",components:{ModalRegister:o["a"]},data:function(){return{username:"",password1:"",password2:"",message:""}},apollo:{},methods:{clearFields:function(){this.username="",this.password1="",this.password2=""},regUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,t,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.password1!==e.password2||""===e.password1||""===e.username){n.next=21;break}return n.next=3,e.$apollo.query({query:i["r"],variables:{username:e.username}});case 3:if(r=n.sent,!1!==Boolean(r.data.usernameExists)){n.next=16;break}return n.next=7,e.$apollo.query({query:i["l"],variables:{username:e.username,password:e.password1}});case 7:t=n.sent,console.log(t.data.register.id),a=t.data.register.id,s=t.data.register.username,e.message='User with username "'.concat(s,'" has been registered successfully! Id: ').concat(a),e.$modal.show("notif"),e.clearFields(),n.next=19;break;case 16:e.message='User with username "'.concat(e.username,'" already exists. Try new username.'),e.$modal.show("notif"),e.clearFields();case 19:n.next=22;break;case 21:e.password1!==e.password2?(e.message="Two passwords don't match. Try again.",e.$modal.show("notif"),e.clearFields()):""!==e.password1&&""!==e.username||(e.message="All fields are required",e.$modal.show("notif"),e.clearFields());case 22:case"end":return n.stop()}}),n)})))()}}},d=u,c=(r("2cfd"),r("2877")),m=Object(c["a"])(d,t,a,!1,null,null,null);n["default"]=m.exports},"99af":function(e,n,r){"use strict";var t=r("23e7"),a=r("d039"),s=r("e8b5"),o=r("861d"),i=r("7b0b"),u=r("50c4"),d=r("8418"),c=r("65f0"),m=r("1dde"),f=r("b622"),l=r("2d00"),p=f("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",w=l>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=m("concat"),h=function(e){if(!o(e))return!1;var n=e[p];return void 0!==n?!!n:s(e)},j=!w||!v;t({target:"Array",proto:!0,forced:j},{concat:function(e){var n,r,t,a,s,o=i(this),m=c(o,0),f=0;for(n=-1,t=arguments.length;n<t;n++)if(s=-1===n?o:arguments[n],h(s)){if(a=u(s.length),f+a>b)throw TypeError(g);for(r=0;r<a;r++,f++)r in s&&d(m,f,s[r])}else{if(f>=b)throw TypeError(g);d(m,f++,s)}return m.length=f,m}})},bb2f:function(e,n,r){var t=r("d039");e.exports=!t((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c9d1:function(e,n,r){"use strict";var t=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("modal",{attrs:{id:"modal",name:"notif"}},[r("p",[e._v(e._s(e.msg))])])},a=[],s={name:"ModalRegister",props:["msg"]},o=s,i=(r("d2d3"),r("2877")),u=Object(i["a"])(o,t,a,!1,null,"949227f2",null);n["a"]=u.exports},d2d3:function(e,n,r){"use strict";r("0f3f")},dca8:function(e,n,r){var t=r("23e7"),a=r("bb2f"),s=r("d039"),o=r("861d"),i=r("f183").onFreeze,u=Object.freeze,d=s((function(){u(1)}));t({target:"Object",stat:!0,forced:d,sham:!a},{freeze:function(e){return u&&o(e)?u(i(e)):e}})},e314:function(e,n,r){},f183:function(e,n,r){var t=r("d012"),a=r("861d"),s=r("5135"),o=r("9bf2").f,i=r("90e3"),u=r("bb2f"),d=i("meta"),c=0,m=Object.isExtensible||function(){return!0},f=function(e){o(e,d,{value:{objectID:"O"+ ++c,weakData:{}}})},l=function(e,n){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,d)){if(!m(e))return"F";if(!n)return"E";f(e)}return e[d].objectID},p=function(e,n){if(!s(e,d)){if(!m(e))return!0;if(!n)return!1;f(e)}return e[d].weakData},b=function(e){return u&&g.REQUIRED&&m(e)&&!s(e,d)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:l,getWeakData:p,onFreeze:b};t[d]=!0},fb6a:function(e,n,r){"use strict";var t=r("23e7"),a=r("861d"),s=r("e8b5"),o=r("23cb"),i=r("50c4"),u=r("fc6a"),d=r("8418"),c=r("b622"),m=r("1dde"),f=m("slice"),l=c("species"),p=[].slice,b=Math.max;t({target:"Array",proto:!0,forced:!f},{slice:function(e,n){var r,t,c,m=u(this),f=i(m.length),g=o(e,f),w=o(void 0===n?f:n,f);if(s(m)&&(r=m.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?a(r)&&(r=r[l],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(m,g,w);for(t=new(void 0===r?Array:r)(b(w-g,0)),c=0;g<w;g++,c++)g in m&&d(t,c,m[g]);return t.length=c,t}})}}]);
//# sourceMappingURL=register.16b1e3c2.js.map